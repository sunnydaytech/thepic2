<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/components/index-button.html">

<dom-module id="page-game">
  <style>
    :host {
      display: block;
    }
    #gameContainer {
      margin: 0 auto;
      max-width: 550px;
    }
    .buttons {
       @apply(--layout-horizontal);
       @apply(--layout-center-justified);
    }
  </style>
  <template>
    <span>已用xx步</span>
    <div id="gameContainer">
    </div>
    <div class="buttons">
      <index-button 
          src="/img/hint.png"
          button-text="原图提示">
      </index-button>
      <index-button 
          src="/img/hint.png"
          button-text="重玩一次">
      </index-button>

      <index-button 
          src="/img/give-up.png"
          button-text="我要放弃">
      </index-button>
    </div>
  </template>
  <script>
    Polymer({
      is: 'page-game',
      properties: {
        args: Object
      },
      attached: function() {
        var gameBoardEl = document.createElement('game-board');
        gameBoardEl.id = this.args.id;
        var width = 550;
        if (this.offsetWidth < width) {
          width = this.offsetWidth;
        }
        gameBoardEl.style.width = (width - 80) + "px";
        gameBoardEl.style.margin = '0 40px';
        this.$.gameContainer.appendChild(gameBoardEl);
        gameBoardEl.shuffle(100, 1000);
      }
    });
  </script>
</dom-module>
